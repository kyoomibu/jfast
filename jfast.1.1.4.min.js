"function"!=typeof Set&&(window.Set=function(){this.items=[]},Set.prototype.add=function(t){return-1===this.items.indexOf(t)&&this.items.push(t),this},Set.prototype.has=function(t){return-1!==this.items.indexOf(t)},Set.prototype.delete=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.items.splice(e,1),!0)},Set.prototype.clear=function(){this.items=[]},Object.defineProperty(Set.prototype,"size",{get:function(){return this.items.length}}),Set.prototype.forEach=function(t,e){for(var n=0;n<this.items.length;n++)t.call(e,this.items[n],this.items[n],this)},console.warn("Polyfill Set has been applied. Some methods may not be fully supported yet.")),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),function(t){"use strict";var e=function(t){if(!(this instanceof e))return new e(t);t?"string"==typeof t?this.elements=document.querySelectorAll(t):t instanceof NodeList||Array.isArray(t)?this.elements=t:t instanceof HTMLElement||t===window||t===document?this.elements=[t]:"function"==typeof t?("complete"===document.readyState||"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t),this.elements=[]):this.elements=[]:this.elements=[]};e.prototype.each=function(t){return Array.prototype.forEach.call(this.elements,t),this},e.prototype.addClass=function(t){var e=t.split(" ");return this.each((function(t){t.classList.add(...e)}))},e.prototype.removeClass=function(t){var e=t.split(" ");return this.each((function(t){t.classList.remove(...e)}))},e.prototype.toggleClass=function(t,e){var n=t.split(" ");return this.each((function(t){n.forEach((function(n){"boolean"==typeof e?t.classList.toggle(n,e):t.classList.toggle(n)}))}))},e.prototype.one=function(t,e,n){"function"==typeof e&&(n=e,e=null);var o=t.split(" ");return this.each((function(t){o.forEach((function(o){var r=function(i){if(e){for(var s=i.target;s&&s!==t;){if(s.matches(e)){n.call(s,i),t.removeEventListener(o,r);break}s=s.parentNode}t.matches(e)&&(n.call(t,i),t.removeEventListener(o,r))}else n.call(t,i),t.removeEventListener(o,r)};t.addEventListener(o,r)}))}))},e.prototype.before=function(t){return this.each((function(n){"string"==typeof t?n.insertAdjacentHTML("beforebegin",t):t instanceof HTMLElement?n.parentNode.insertBefore(t,n):(t instanceof e||t instanceof NodeList||Array.isArray(t))&&Array.prototype.forEach.call(t.elements||t,(function(t){n.parentNode.insertBefore(t,n)}))}))},e.prototype.after=function(t){return this.each((function(n){"string"==typeof t?n.insertAdjacentHTML("afterend",t):t instanceof HTMLElement?n.parentNode.insertBefore(t,n.nextSibling):(t instanceof e||t instanceof NodeList||Array.isArray(t))&&Array.prototype.forEach.call(t.elements||t,(function(t){n.parentNode.insertBefore(t,n.nextSibling)}))}))},e.prototype.hasClass=function(t){return Array.prototype.some.call(this.elements,(function(e){return e.classList.contains(t)}))},e.prototype.attr=function(t,e){return void 0===e?this.elements[0]?this.elements[0].getAttribute(t):void 0:this.each((function(n){n.setAttribute(t,e)}))},e.prototype.removeAttr=function(t){return this.each((function(e){e.removeAttribute(t)}))},e.prototype.text=function(t){return void 0===t?this.elements[0]?this.elements[0].textContent:"":this.each((function(e){e.textContent=t}))},e.prototype.html=function(t){return void 0===t?this.elements[0]?this.elements[0].innerHTML:"":this.each((function(e){e.innerHTML=t}))},e.prototype.data=function(t,e){return void 0===e?this.elements[0]?this.elements[0].dataset[t]||this.elements[0].getAttribute("data-"+t):void 0:this.each((function(n){n.dataset[t]=e}))},e.prototype.css=function(t,e){return"string"==typeof t?void 0===e?this.elements[0]?getComputedStyle(this.elements[0])[t]:void 0:this.each((function(n){n.style[t]=e})):"object"==typeof t?this.each((function(e){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])})):void 0};var n=new WeakMap;function o(t,e){if(t&&1===t.nodeType){if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e);if(t.mozMatchesSelector)return t.mozMatchesSelector(e);for(var n=(t.document||t.ownerDocument).querySelectorAll(e),o=n.length;--o>=0&&n.item(o)!==t;);return o>-1}return!1}e.prototype.on=function(t,e,r,i){"function"==typeof e&&(i=r,r=e,e=null);var s=t.split(" ");return this.each((function(t){s.forEach((function(s){var a=s+(e?"_"+e:""),c=n.get(t)||{},p=function(n){if(e){for(var i=n.target;i&&i!==t;){if(o(i,e)){r.call(i,n);break}i=i.parentNode}o(t,e)&&r.call(t,n)}else r.call(t,n)};c[a]||(c[a]=[]),c[a].push({originalHandler:r,listener:p}),n.set(t,c),t.addEventListener(s,p,i||!1)}))}))},e.prototype.off=function(t,e,o,r){"function"==typeof e&&(r=o,o=e,e=null);var i=t.split(" ");return this.each((function(t){var s=n.get(t);s&&(i.forEach((function(n){var i=n+(e?"_"+e:""),a=s[i];if(a){for(var c=0;c<a.length;c++){var p=a[c];o&&p.originalHandler!==o||(t.removeEventListener(n,p.listener,r||!1),a.splice(c,1),c--)}0===a.length&&delete s[i]}})),0===Object.keys(s).length?n.delete(t):n.set(t,s))}))},e.prototype.trigger=function(t){var e=new Event(t);return this.each((function(t){t.dispatchEvent(e)}))},e.prototype.change=function(t){return"function"==typeof t?this.on("change",t):this.trigger("change")},["keydown","keyup","keypress","mouseover","mouseout","mouseenter","mouseleave"].forEach((function(t){e.prototype[t]=function(e){return"function"==typeof e?this.on(t,e):this.trigger(t)}})),e.prototype.clone=function(t){t=!1!==t;var n=[];return this.each((function(e){n.push(e.cloneNode(t))})),e(n)},e.prototype.serialize=function(){var t=this.elements[0];if(!t||"FORM"!==t.tagName)return"";var e=t.elements,n=[];return Array.prototype.forEach.call(e,(function(t){t.name&&!t.disabled&&"file"!==t.type&&"reset"!==t.type&&"submit"!==t.type&&"button"!==t.type&&("select-multiple"===t.type?Array.prototype.forEach.call(t.options,(function(e){e.selected&&n.push(encodeURIComponent(t.name)+"="+encodeURIComponent(e.value))})):("checkbox"!==t.type&&"radio"!==t.type||t.checked)&&n.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value)))})),n.join("&")},e.prototype.serializeArray=function(){var t=this.elements[0];if(!t||"FORM"!==t.tagName)return[];var e=t.elements,n=[];return Array.prototype.forEach.call(e,(function(t){t.name&&!t.disabled&&"file"!==t.type&&"reset"!==t.type&&"submit"!==t.type&&"button"!==t.type&&("select-multiple"===t.type?Array.prototype.forEach.call(t.options,(function(e){e.selected&&n.push({name:t.name,value:e.value})})):("checkbox"!==t.type&&"radio"!==t.type||t.checked)&&n.push({name:t.name,value:t.value}))})),n},e.prototype.width=function(t){if(void 0===t){var e=this.elements[0];if(!e)return;return e.getBoundingClientRect().width}return this.each((function(e){e.style.width="number"==typeof t?t+"px":t}))},e.prototype.height=function(t){if(void 0===t){var e=this.elements[0];if(!e)return;return e.getBoundingClientRect().height}return this.each((function(e){e.style.height="number"==typeof t?t+"px":t}))},e.prototype.offset=function(){var t=this.elements[0];if(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}}},e.prototype.position=function(){var t=this.elements[0];if(t)return{top:t.offsetTop,left:t.offsetLeft}},e.prototype.scrollTop=function(t){if(void 0===t){var e=this.elements[0];if(!e)return;return e.scrollTop}return this.each((function(e){e.scrollTop=t}))},e.prototype.scrollLeft=function(t){if(void 0===t){var e=this.elements[0];if(!e)return;return e.scrollLeft}return this.each((function(e){e.scrollLeft=t}))},e.prototype.index=function(t){if(t)return Array.prototype.indexOf.call(this.elements,t);var e=this.elements[0];return e&&e.parentNode?Array.prototype.indexOf.call(e.parentNode.children,e):-1},e.prototype.not=function(t){var e=Array.prototype.filter.call(this.elements,(function(e){return!e.matches(t)}));return this.elements=e,this},e.prototype.click=function(t){return"function"==typeof t?this.each((function(e){e.addEventListener("click",t)})):this.each((function(t){t.click()}))},e.prototype.hide=function(t){return t?this.each((function(e){e.style.transition=`opacity ${t}ms`,e.style.opacity=0,setTimeout((function(){e.style.display="none"}),t)})):this.each((function(t){t.style.display="none"}))},e.prototype.show=function(t){return this.each((function(e){e.style.display=e.dataset.jFastDisplay||"",e.style.opacity=0,e.style.transition=`opacity ${t}ms`,setTimeout((function(){e.style.opacity=1}),10)}))},e.prototype.toggle=function(t){return this.each((function(e){"none"===getComputedStyle(e).display?$(e).show(t):$(e).hide(t)}))},e.prototype.focus=function(){return this.each((function(t){t.focus()}))},e.prototype.blur=function(){return this.each((function(t){t.blur()}))},e.prototype.eq=function(t){return new e(this.elements[t]?[this.elements[t]]:[])},e.prototype.first=function(){return this.eq(0)},e.prototype.last=function(){return this.eq(this.elements.length-1)},e.prototype.fadeIn=function(t){return t=t||400,this.each((function(e){e.style.opacity=0,e.style.display="none"===e.style.display?"":e.style.display;var n=+new Date,o=function(){var r=+e.style.opacity+(new Date-n)/t;e.style.opacity=r>1?1:r,n=+new Date,+e.style.opacity<1?window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16):e.style.opacity=""};o()}))},e.prototype.fadeOut=function(t){return t=t||400,this.each((function(e){e.style.opacity=1;var n=+new Date,o=function(){var r=+e.style.opacity-(new Date-n)/t;e.style.opacity=r<0?0:r,n=+new Date,+e.style.opacity>0?window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16):(e.style.opacity="",e.style.display="none")};o()}))},e.prototype.slideUp=function(t){return t=t||400,this.each((function(e){var n={height:e.style.height,paddingTop:e.style.paddingTop,paddingBottom:e.style.paddingBottom,marginTop:e.style.marginTop,marginBottom:e.style.marginBottom,overflow:e.style.overflow,transition:e.style.transition};e.style.height=e.offsetHeight+"px",e.style.overflow="hidden",e.style.transition="height "+t+"ms, padding "+t+"ms, margin "+t+"ms",setTimeout((function(){e.style.height="0",e.style.paddingTop="0",e.style.paddingBottom="0",e.style.marginTop="0",e.style.marginBottom="0"}),10),setTimeout((function(){e.style.display="none",Object.assign(e.style,n)}),t)}))},e.prototype.slideDown=function(t){return t=t||400,this.each((function(e){"none"===getComputedStyle(e).display&&(e.style.display="");var n=e.offsetHeight,o={height:e.style.height,paddingTop:e.style.paddingTop,paddingBottom:e.style.paddingBottom,marginTop:e.style.marginTop,marginBottom:e.style.marginBottom,overflow:e.style.overflow,transition:e.style.transition};e.style.height="0",e.style.paddingTop="0",e.style.paddingBottom="0",e.style.marginTop="0",e.style.marginBottom="0",e.style.overflow="hidden",e.style.transition="height "+t+"ms, padding "+t+"ms, margin "+t+"ms",setTimeout((function(){e.style.height=n+"px",e.style.paddingTop="",e.style.paddingBottom="",e.style.marginTop="",e.style.marginBottom=""}),10),setTimeout((function(){Object.assign(e.style,o)}),t)}))},e.prototype.find=function(t){var e=new Set;return this.each((function(n){n.querySelectorAll(t).forEach((function(t){e.add(t)}))})),this.elements=Array.from(e),this},e.prototype.val=function(t){if(void 0===t){var e=this.elements[0];if(!e)return;return"SELECT"===e.tagName?e.multiple?Array.prototype.slice.call(e.options).filter((function(t){return t.selected})).map((function(t){return t.value})):e.value:"checkbox"===e.type||"radio"===e.type?e.checked?e.value:void 0:e.value}return this.each((function(e){"SELECT"===e.tagName?e.multiple&&Array.isArray(t)?Array.prototype.forEach.call(e.options,(function(e){e.selected=t.indexOf(e.value)>-1})):e.value=t:("checkbox"===e.type||"radio"===e.type)&&"boolean"==typeof t?e.checked=t:e.value=t}))},e.prototype.prop=function(t,e){return t?void 0===e?this.elements[0]?this.elements[0][t]:void 0:this.each((function(n){"boolean"==typeof e?n[t]=e:n.setAttribute(t,e)})):(console.warn("jFast.prop: Property name is required."),this)},e.prototype.closest=function(t){var e=[];return this.each((function(n){for(var o=n;o&&o!==document;){if(o.matches(t)){e.push(o);break}o=o.parentElement}})),this.elements=e,this},e.prototype.submit=function(){return this.each((function(t){var e;if("FORM"===t.tagName?e=t:"BUTTON"!==t.tagName&&"INPUT"!==t.tagName||"submit"!==t.type||(e=t.closest("form")),e)if("function"==typeof e.requestSubmit)e.requestSubmit(t);else{var n=document.createEvent("Event");n.initEvent("submit",!0,!0),e.dispatchEvent(n)&&e.submit()}}))},e.prototype.parent=function(){var t=[];return this.each((function(e){e.parentNode&&t.push(e.parentNode)})),this.elements=t,this},e.prototype.parents=function(){var t=[];return this.each((function(e){for(var n=e.parentNode;n;)t.push(n),n=n.parentNode})),this.elements=t,this},e.prototype.children=function(){var t=[];return this.each((function(e){t=t.concat(Array.prototype.slice.call(e.children))})),this.elements=t,this},e.prototype.next=function(){var t=[];return this.each((function(e){e.nextElementSibling&&t.push(e.nextElementSibling)})),this.elements=t,this},e.prototype.prev=function(){var t=[];return this.each((function(e){e.previousElementSibling&&t.push(e.previousElementSibling)})),this.elements=t,this},e.prototype.siblings=function(){var t=new Set;return this.each((function(e){var n=e.parentNode;if(n)for(var o=n.children,r=0;r<o.length;r++)o[r]!==e&&t.add(o[r])})),this.elements=Array.from(t),this},e.prototype.append=function(t){return this.each((function(n,o){"string"==typeof t?n.insertAdjacentHTML("beforeend",t):t instanceof HTMLElement?n.appendChild(0===o?t:t.cloneNode(!0)):(t instanceof e||t instanceof NodeList||Array.isArray(t))&&Array.prototype.forEach.call(t.elements||t,(function(t){n.appendChild(0===o?t:t.cloneNode(!0))}))}))},e.prototype.prepend=function(t){return this.each((function(n,o){"string"==typeof t?n.insertAdjacentHTML("afterbegin",t):t instanceof HTMLElement?n.insertBefore(0===o?t:t.cloneNode(!0),n.firstChild):(t instanceof e||t instanceof NodeList||Array.isArray(t))&&Array.prototype.forEach.call(t.elements||t,(function(t){n.insertBefore(0===o?t:t.cloneNode(!0),n.firstChild)}))}))},e.prototype.remove=function(){return this.each((function(t){t.parentNode&&t.parentNode.removeChild(t)}))},e.prototype.empty=function(){return this.each((function(t){t.innerHTML=""}))},e.each=function(t,e){Array.prototype.forEach.call(t,e)},e.map=function(t,e){return Array.prototype.map.call(t,e)},e.grep=function(t,e){return t.filter(e)},e.inArray=function(t,e){return-1!==e.indexOf(t)},e.prototype.filter=function(t){var e=Array.prototype.filter.call(this.elements,(function(e){return e.matches(t)}));return this.elements=e,this},e.ajax=function(t){var e=new XMLHttpRequest;if(e.open(t.type||"GET",t.url,!1!==t.async),!1!==t.contentType&&e.setRequestHeader("Content-Type",t.contentType||"application/x-www-form-urlencoded; charset=UTF-8"),"json"===t.dataType&&e.setRequestHeader("Accept","application/json"),t.headers)for(var n in t.headers)t.headers.hasOwnProperty(n)&&e.setRequestHeader(n,t.headers[n]);e.onload=function(){var n=e.status;if(n>=200&&n<300||304===n){var o=e.responseText;if("json"===t.dataType)try{o=JSON.parse(o)}catch(n){return void(t.error&&t.error(e,"parsererror",n))}t.success&&t.success(o,n,e)}else t.error&&t.error(e,n,e.statusText)},e.onerror=function(){t.error&&t.error(e,e.status,e.statusText)},t.beforeSend&&t.beforeSend(e),e.send(t.data||null)},t.$=e}(window);
